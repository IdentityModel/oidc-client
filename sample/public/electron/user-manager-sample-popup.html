<!DOCTYPE html>
<html>

<head>
    <title>user-manager test</title>
    <link rel='stylesheet' href='app.css'>
</head>

<body>
    <script src='oidc-client.js'></script>
    <script>
        Oidc.Log.logger = console;
        Oidc.Log.logLevel = Oidc.Log.INFO;

var baseUrl =  'http://localhost:5000/electron/';

var settings = {
    authority: 'http://localhost:5000/oidc',
    client_id: 'js.tokenmanager',
    redirect_uri: baseUrl+'user-manager-sample.html',
    post_logout_redirect_uri: baseUrl+'user-manager-sample.html',
    response_type: 'id_token token',
    scope: 'openid email roles',
    
    popup_redirect_uri: baseUrl+'user-manager-sample-popup.html',
    
    silent_redirect_uri: baseUrl+'user-manager-sample-silent.html',
    automaticSilentRenew:true,
    //silentRequestTimeout:10000,

    filterProtocolClaims: true,
    loadUserInfo: true
};

    settings.popupNavigator = new Oidc.ElectronPopupNavigator();
    settings.iframeNavigator = new Oidc.ElectronIFrameNavigator();

        new Oidc.UserManager(settings).signinPopupCallback(location.href);
    </script>
</body>

</html>
